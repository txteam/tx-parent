/**
* jQuery EasyUI 1.3.3
* Copyright (c) 2009-2013 www.jeasyui.com. All rights reserved.
*
* Licensed under the GPL or commercial licenses
* To use it on other terms please contact us: jeasyui@gmail.com
* http://www.gnu.org/licenses/gpl.txt
* http://www.jeasyui.com/license_commercial.php
*
* jQuery EasyUI menu Extensions 1.0 beta
* jQuery EasyUI menu 组件扩展
* jeasyui.extensions.menu.js
* 二次开发 陈建伟
* 最近更新：2013-05-29
*
* 依赖项：
*   1、jquery.jdirk.js v1.0 beta late
*   2、jeasyui.extensions.js v1.0 beta late
*
* Copyright (c) 2013 ChenJianwei personal All rights reserved.
* http://www.chenjianwei.org
*/

/*
功能说明：
*/
!function(a){var c=function(b){var h,c=a.string.left(a.util.guid(),8),e="easyui_menu_id_"+c,f="easyui_menu_name_"+c,g=a.extend({},a.fn.menu.defaults,{id:e,name:f,left:event?event.clientX:0,top:event?event.clientY:0,items:null},b||{});return g.items=a.array.isArray(g.items)?g.items:[],h=a("<div></div>").attr({id:e,name:f}).appendTo("body"),g.items.length||g.items.push({text:"当前无菜单项",disabled:!0}),a.each(g.items,function(){d(h,this,e)}),{menu:h,options:g}},d=function(b,c,e){var f,g,h,i,j,k;return a.util.isString(c)&&"-"==a.string.trim(c)?(a("<div></div>").addClass("menu-sep").appendTo(b),void 0):(f=a.util.guid().left(8),g=e+"_"+f,c=c||{},c=a.extend({id:g,text:"",iconCls:null,href:null,disabled:!1,onclick:null,children:null},c),h=a("<div></div>").attr({id:c.id,iconCls:c.iconCls,href:c.href,disabled:c.disabled}).appendTo(b),a.isFunction(c.handler)&&(i=c.handler,c.onclick=function(a){i.call(this,a,c)}),!c.disabled&&a.isFunction(c.onclick)&&h.click(c.onclick),j=c.children&&c.children.length?!0:!1,j?(a("<span></span>").text(c.text).appendTo(h),k=a("<div></div>").appendTo(h),a.each(c.children,function(){d(k,this,g)})):h.text(c.text),void 0)};a.extend(a.easyui,{createMenu:c,showMenu:function(b){var g,d=b||{},e=a.fn.menu.defaults.onHide,f=d.onHide;return d.onHide=function(){var b=a.util.parseJquery(this);a.isFunction(e)&&e.apply(this,arguments),a.isFunction(f)&&f.apply(this,arguments),a.util.call(function(){b.menu("destroy")})},g=c(d),g.menu.menu(g.options).menu("show",{left:g.options.left,top:g.options.top}),g.menu}})}(jQuery);